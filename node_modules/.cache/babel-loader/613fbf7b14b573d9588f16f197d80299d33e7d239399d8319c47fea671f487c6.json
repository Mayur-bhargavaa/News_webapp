{"ast":null,"code":"import _regeneratorRuntime from\"G:/Innorik/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/Innorik/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/Innorik/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import noArticlesImage from\"./image/no-articles.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SavedArticles=function SavedArticles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),savedArticles=_useState2[0],setSavedArticles=_useState2[1];useEffect(function(){function fetchSavedArticles(){return _fetchSavedArticles.apply(this,arguments);}function _fetchSavedArticles(){_fetchSavedArticles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/articles\");case 3:response=_context.sent;setSavedArticles(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching saved articles:\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _fetchSavedArticles.apply(this,arguments);}fetchSavedArticles();},[]);var handleDeleteArticle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(articleId){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"/api/articles/\".concat(articleId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"jwtToken\"))}});case 3:setSavedArticles(savedArticles.filter(function(saved){return saved._id!==articleId;}));_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error(\"Delete article error:\",_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function handleDeleteArticle(_x){return _ref.apply(this,arguments);};}();if(savedArticles.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"saved-articles-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" No Saved Articles Yet\"}),/*#__PURE__*/_jsx(\"img\",{src:noArticlesImage,alt:\"No Saved Articles\"}),/*#__PURE__*/_jsx(\"a\",{className:\"hero-btn1\",style:{display:\"flex\",flexDirection:\"column\",textAlign:\"center\",padding:\"22px\"},href:\"/\",children:\"Continue Reading\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"saved-articles-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Saved Articles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid-container\",children:savedArticles.map(function(article){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{width:\"18rem\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"img\",{src:article.image,className:\"card-img-top\",alt:\"Image Not Found\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:article.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",style:{textAlign:\"left\"},children:[article.description&&article.description.slice(0,150),\".....\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"a\",{href:article.link,className:\"hero-btn1\",children:\"Read more\"}),/*#__PURE__*/_jsx(\"button\",{className:\"hero-btn1\",onClick:function onClick(){return handleDeleteArticle(article._id);},children:\"Unsave\"})]})]},article.link);})})]});};export default SavedArticles;","map":{"version":3,"names":["React","useEffect","useState","axios","noArticlesImage","jsx","_jsx","jsxs","_jsxs","SavedArticles","_useState","_useState2","_slicedToArray","savedArticles","setSavedArticles","fetchSavedArticles","_fetchSavedArticles","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","t0","console","error","stop","handleDeleteArticle","_ref","_callee2","articleId","_callee2$","_context2","delete","concat","headers","Authorization","localStorage","getItem","filter","saved","_id","_x","length","className","children","src","alt","style","display","flexDirection","textAlign","padding","href","map","article","width","marginBottom","image","title","description","slice","link","onClick"],"sources":["G:/Innorik/src/components/saved.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport noArticlesImage from \"./image/no-articles.jpg\";\r\n\r\nconst SavedArticles = () => {\r\n  const [savedArticles, setSavedArticles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchSavedArticles() {\r\n      try {\r\n        const response = await axios.get(\"/api/articles\");\r\n        setSavedArticles(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching saved articles:\", error);\r\n      }\r\n    }\r\n\r\n    fetchSavedArticles();\r\n  }, []);\r\n\r\n  const handleDeleteArticle = async (articleId) => {\r\n    try {\r\n      await axios.delete(`/api/articles/${articleId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\r\n        },\r\n      });\r\n      setSavedArticles(\r\n        savedArticles.filter((saved) => saved._id !== articleId)\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Delete article error:\", error);\r\n    }\r\n  };\r\n\r\n  if (savedArticles.length === 0) {\r\n    return (\r\n      <div className=\"saved-articles-container\">\r\n        <h2> No Saved Articles Yet</h2>\r\n        <img src={noArticlesImage} alt=\"No Saved Articles\" />\r\n        <a\r\n          className=\"hero-btn1\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            textAlign: \"center\",\r\n            padding: \"22px\",\r\n          }}\r\n          href=\"/\"\r\n        >\r\n          Continue Reading\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"saved-articles-container\">\r\n      <h2>Saved Articles</h2>\r\n\r\n      <div className=\"grid-container\">\r\n        {savedArticles.map((article) => (\r\n          <div\r\n            key={article.link}\r\n            className=\"card\"\r\n            style={{ width: \"18rem\", marginBottom: \"20px\" }}\r\n          >\r\n            <img\r\n              src={article.image}\r\n              className=\"card-img-top\"\r\n              alt=\"Image Not Found\"\r\n            />\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">{article.title}</h5>\r\n              <p className=\"card-text\" style={{ textAlign: \"left\" }}>\r\n                {article.description && article.description.slice(0, 150)}.....\r\n              </p>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <a href={article.link} className=\"hero-btn1\">\r\n                Read more\r\n              </a>\r\n              <button\r\n                className=\"hero-btn1\"\r\n                onClick={() => handleDeleteArticle(article._id)}\r\n              >\r\n                Unsave\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavedArticles;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}